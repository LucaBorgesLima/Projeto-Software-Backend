CREATE DATABASE estacionamento;

USE estacionamento;

CREATE TABLE IF NOT EXISTS `clientes` (
	`id_cliente` int AUTO_INCREMENT NOT NULL,
	`nome` varchar(255) NOT NULL,
	`telefone` varchar(20) NOT NULL,
	PRIMARY KEY (`id_cliente`)
);

CREATE TABLE IF NOT EXISTS `veiculos` (
	`id_veiculo` int AUTO_INCREMENT NOT NULL,
	`placa` varchar(255) NOT NULL,
	`modelo` varchar(255) NOT NULL,
	`cor` varchar(255) NOT NULL,
	`id_cliente` int NOT NULL,
	`vaga` int NOT NULL,
	PRIMARY KEY (`id_veiculo`),
	FOREIGN KEY (`id_cliente`) REFERENCES `clientes`(`id_cliente`)
);

CREATE TABLE IF NOT EXISTS `entrada_e_saida` (
	`id_registro` int AUTO_INCREMENT NOT NULL,
	`id_veiculo` int NOT NULL,
	`horario_entrada` datetime NOT NULL,
	`horario_saida` datetime NULL,
	`valor_total` DECIMAL(10, 2) NOT NULL,
	`tipo_de_pagamento` varchar(255) NOT NULL,
	PRIMARY KEY (`id_registro`),
	FOREIGN KEY (`id_veiculo`) REFERENCES `veiculos`(`id_veiculo`)
);
